#:import rgba kivy.utils.get_color_from_hex

<LoaderScreen>:
    json_path: json_path_id
    solutions: solutions_id
    attempts: attempts_id
    iterations: iterations_id

    GridLayout:
        cols: 1
        padding: 30
        spacing: 20

        Label:
            text: "Problem Loader"
            font_size: '28sp'
            bold: True
            size_hint_y: None
            height: 50
            halign: 'center'
            valign: 'middle'
            text_size: self.size

        GridLayout:
            cols: 2
            spacing: 12
            row_default_height: 40
            row_force_default: True

            Label:
                text: "JSON file path:"
                font_size: '16sp'
            TextInput:
                id: json_path_id
                multiline: False
                hint_text: "config/base.json"
                text: "config/base.json"

            Label:
                text: "Solutions:"
                font_size: '16sp'
            TextInput:
                id: solutions_id
                multiline: False
                hint_text: "10"
                text: "10"

            Label:
                text: "Attempts:"
                font_size: '16sp'
            TextInput:
                id: attempts_id
                multiline: False
                hint_text: "1000"
                text: "1000"

            Label:
                text: "Iterations:"
                font_size: '16sp'
            TextInput:
                id: iterations_id
                multiline: False
                hint_text: "500"
                text: "500"

        BoxLayout:
            size_hint_y: None
            height: 50
            spacing: 20

            Button:
                text: "Back to Generator"
                font_size: '18sp'
                background_color: (0.6, 0.6, 0.6, 1)
                color: (1, 1, 1, 1)
                background_normal: ''
                border: (12, 12, 12, 12)
                on_press: app.root.current = "problem_input"

            Button:
                text: "Run"
                font_size: '18sp'
                background_color: (0.1, 0.5, 0.9, 1)
                color: (1, 1, 1, 1)
                background_normal: ''
                border: (12, 12, 12, 12)
                on_press: root.run_problem()
                
<AnimationScreen>:    
    BoxLayout:
        id: plot_box
 

<InputPopup>:
    input_text: input_field

    orientation: 'vertical'
    padding: 10
    spacing: 10

    TextInput:
        id: input_field
        multiline: False
    Button:
        text: "Submit"
        on_release: root.submit()


<InputScreen>:
    display_label: display_lbl

    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 20

        Button:
            text: "Open Popup"
            on_release: root.open_popup()

        Label:
            id: display_lbl
            text: "Entered: "